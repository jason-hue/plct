# 基于ROS2的实际开发示例

大家好，本期视频我们来学习基于 ROS2 框架的实际开发。首先要感谢 GitHub 上相关文章的参考，具体信息可以看简介哦。

咱们需要用到的设备有荔枝派 4A 开发板、扩展坞和网线。不过呢，受限于当前 RISC-V 不太完善的生态，很多包在编译或者使用的时候，会遇到不少问题。而且这颗 TH1520 芯片，理论跑分和树莓派 4B 的 BCM2711 差不多，所以想在荔枝派 4A 上完整运行高负载的任务，不太现实。

但好在 ROS2 有优秀的分布式特性，咱们可以把计算量庞大的任务放在宿主机上跑，而计算量较小的逻辑控制部分，就放在荔枝派 4A 上运行。

那要实现宿主机和荔枝派 4A 之间的 ROS2 通信，得做些环境配置。首先得确保两者连接到同一个局域网，可以用网线互相连接，也能连接到同一个路由器，我这里就以网线连接为例来说明。

用扩展坞把各个设备连接好，开发板开机后，在宿主机的网络设置里找到 USB Ethernet 选项，点击设置，把 IPV4 method 配置成 “share to other computers”。然后在终端输入 “ip addr show”，没问题的话，会出现一个以 en 开头的网卡设备。

接下来要获取开发板的 IP 地址，咱们可以用 nmap 查询这一网段下的活跃 IP，我这里开发板的 IP 是 10.42.0.11。知道 IP 之后，就可以用 SSH 登录开发板了。

之后，我们分别在开发板和宿主机上设置 ROS domain id。不同设备之间，只要建立了网络连接，并且设置相同的 ROS domain id，就能愉快地通信了，这就是 ROS2 的强大之处呀。

我们在开发板上执行相应命令，在宿主机上执行对应的命令，就能看到它们顺畅通信啦。

本期视频就到这里，感谢大家的观看！